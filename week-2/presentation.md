# Проектиране на База Данни

---

## Съдържание

- Стъпки за проектиране на база данни?
- Entity Relationship Model
- Отношения между таблиците

---

# Стъпки за проектиране на база данни?

---

## 1. Анализиране на изискванията

- Какво искаме да постигнем чрез нашата база данни?
- Какви данни искаме да складираме?
- Какви заявки очакваме потребителите да изпращат?

---

## Примерна база данни

- Разработвате база данни за УКТЦ
- Как се пазите информация за:
    - ученици
    - учители
    - класове
    - предмети

---

## 2. Концептуален дизайн

- Описваме на високо ниво как данните ще се пазят, както и техните ограничения
- За тази цел можем да използваме ER Диаграма

---

## ER Диаграма

- Entity-Relationship Диаграма
- Описва различните субекти в базата данни, както и техните връзки

---

![Example_ER_Diagram](/Attachments/Example_ER_Diagram.png)

---

## Entity (Обект)

- Обект, който съществува и различим от други обекти във вселената
- Пример: Стамат Темелков с ученически номер 42068 е обект, понеже той може да се различава от другите ученици
- Набор от обекти (Entity Set) e набор от обекти от един и същи тип

---

## Entity - Атрибути 1/2

- Обект се представя чрез множество атрибути (напр. име, ЕГН, имейл  за субект "клиент")
- Областта (domain) на един атрибут е наборът от позволени стойности (напр. ЕГН трябва да бъде дълго 10 цифри)

---

## Entity - Атрибути 2/2

- Всеки субект е представен като набор от двойки (атрибут, стойност)
- Напр. един субект "ученик" може да бъде {("имe", "Стамат Темелков"), (номер, 42068), ("имейл", "42068@uktc-bg.com")}

---

## Entity - ER Диаграма

- Можем да представим един обект графично в E-R диаграма, като:
    - представяме набори от обекти чрез **правоъгълници**
    - представяме атрибути чрез **елипси**
    - свързваме ги чрез **линии**

---

![Example_Entity](/Attachments/Example_Entity.png)

---

## Relationship - ER Diagram

- В базата данни трябва да можем да моделираме отношенията между различните обекти
- В ER диаграма тези отношения могат да се изобразят чрез **ромбове**

---

![Example_ER_Relationship](/Attachments/Example_ER_Relationship.png)

---

![Example_ER_Relationship](/Attachments/Example_ER_Relationship.png)

---

## Видове Релации

- Делят се на четири основни вида
    1. Едно-Към–Едно (1:1)
    2. Едно-Към-Много (1:N)
    3. Много-Към-Едно (N:1)
    4. Много-Към-Много (N:N)

---

## Едно Към Едно (1:1)

- Обект от Набор А е асоцииран с най-много един обект от набор Б. Обект от Набор Б е асоцииран с най-много един обект от набор А.
- Пример: Един учител може да е директор на най-много едно училище и едно училище може да има най-много един директор.

---

![Example_One_To_One](/Attachments/Example_One_To_One.png)

---

## Едно Към Много (1:N)

- Обект от Набор А е асоцииран с най-много един обект от набор Б. Обект от Набор Б е асоцииран с произволен брой обекти от набор А.
- Пример: Едно училище може да има много учители, които работят на пълен договор. Един учител може да работи в най-много едно училище на пълен договор.

---

![Example_One_To_Many](/Attachments/Example_One_To_Many.png)

---

## Много Към Много (N:N)

- Обект от Набор А е асоцииран с произволен брой обекти от набор Б. Обект от Набор Б е асоцииран с произволен брой обекти от набор А.
- Пример: Едно училище може да има много учители, които работят на граждански договор. Един учител може да работи в произволен брой училища на граждански договор.

---

![[Example_Many_To_Many.png]]
![Example_Many_To_Many](/Attachments/Example_Many_To_Many.png)
