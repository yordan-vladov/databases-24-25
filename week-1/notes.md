# Бази данни - Увод

За да разберем необходимостта от СУБД, нека разгледаме мотивиращ сценарий: Компанията има голяма колекция (да речем 500 GB) от данни за служители, отдели, продукти, продажби и т.н. Тези данни се използват едновременно от няколко служители. На въпросите относно данните трябва да се отговаря бързо, промените, направени в данните от различни потребители, трябва да се прилагат последователно и достъпът до определени части от данните (напр. заплати) трябва да бъде ограничен.

Можем да се опитаме да управляваме данните, като ги съхраняваме във файлове на операционната система. Този подход има много недостатъци, включително следното:

- Вероятно нямаме 500 GB основна памет, за да поберем всички данни. Следователно трябва да съхраняваме данни в устройство за съхранение като диск или лента и да пренасяме съответните части в основната памет за обработка, ако е необходимо.
- Дори ако имаме 500 GB основна памет, на компютърни системи с 32-битово адресиране, не можем да се позоваваме директно на повече от около 4 GB данни. Трябва да програмираме някакъв метод за идентифициране на всички елементи от данни.
- Трябва да напишем специални програми, за да отговорим на всеки въпрос, който потребителят може да поиска да зададе за данните. Тези програми вероятно ще бъдат сложни поради големия обем данни за търсене.
- Трябва да защитим данните от непоследователни промени, направени от различни потребители, които имат достъп до данните едновременно. Ако приложенията трябва да се справят с детайлите на такъв паралелен достъп, това значително увеличава тяхната сложност.
- Трябва да гарантираме, че данните се възстановяват до последователно състояние, ако системата се срине, докато се правят промени.
- Операционните системи предоставят само механизъм за парола за сигурност. Това не е достатъчно гъвкаво, за да наложи политики за сигурност, при които различни потребители имат разрешение за достъп до различни подмножества от данни.


СУБД е част от софтуера, предназначен да улесни предходните задачи. Съхранявайки данни в СУБД, а не като колекция от файлове на операционната система, можем да използваме функциите на СУБД, за да управляваме данните по стабилен и ефективен начин. Тъй като обемът на данните и броят на потребителите нарастват, стотици гигабайти данни и хиляди потребители са често срещани в текущите корпоративни бази данни, поддръжката на СУБД става незаменима.

## СУБД - Предимства

Използването на СУБД има множество предимства:

- Независимост на данните: Приложните програми в идеалния случай не трябва да бъдат изложени на подробности за представянето и съхранението на данни. СУБД предоставя абстрактен изглед на данните, който крие такива подробности.
- Ефективен достъп до данни: СУБД използва различни усъвършенствани техники за ефективно съхраняване и извличане на данни. Тази функция е особено важна, ако данните се съхраняват на външни устройства за съхранение.
- Цялостност и сигурност на данните: Ако данните винаги са достъпни през СУБД, СУБД може да наложи ограничения за интегритет. Например, преди да въведе информация за заплатата на служител, СУБД може да провери дали бюджетът на отдела не е надвишен. Освен това може да наложи контроли за достъп, които управляват какви данни са видими за различни класове потребители.
- Администриране на данни: Когато няколко потребители споделят данните, централизирането на администрирането на данни може да предложи значителни подобрения. Опитни професионалисти, които разбират естеството на управляваните данни и начина, по който различните групи потребители ги използват, могат да бъдат отговорни за организирането на представянето на данните, за да се сведе до минимум излишъкът и за фина настройка на съхранението на данните, за да бъде извличането ефективно.
- Едновременен достъп и възстановяване при срив: СУБД планира едновременен достъп до данните по такъв начин, че потребителите да могат да мислят, че данните са достъпни само от един потребител в даден момент. Освен това СУБД защитава потребителите от ефектите на системни повреди.
- Намалено време за разработка на приложения: Ясно е, че СУБД поддържа важни функции, които са общи за много приложения, които имат достъп до данни в СУБД. Това, във връзка с интерфейса на високо ниво към данните, улеснява бързото разработване на приложения. Приложенията за СУБД вероятно ще бъдат по-стабилни от подобни самостоятелни приложения, тъй като много важни задачи се обработват от СУБД (и не трябва да се отстраняват грешки и да се тестват в приложението).

Имайки предвид всички тези предимства, има ли причина да не използвате СУБД? Понякога, да. СУБД е сложен софтуер, оптимизиран за определени видове натоварвания (напр. отговаряне на сложни заявки или обработка на много едновременни заявки) и неговата производителност може да не е подходяща за определени специализирани приложения. Примерите включват приложения със строги ограничения в реално време или само няколко добре дефинирани критични операции, за които трябва да бъде написан ефективен потребителски код. Друга причина да не използвате СУБД е, че приложението може да се наложи да манипулира данните по начини, които не се поддържат от езика на заявката.

В такава ситуация абстрактният изглед на данните, представени от СУБД, не отговаря на нуждите на приложението и всъщност пречи. Като пример, релационните бази данни не поддържат гъвкав анализ на текстови данни (въпреки че доставчиците вече разширяват своите продукти в тази посока).

Ако специализираните изисквания за производителност или манипулиране на данни са централни за дадено приложение, приложението може да избере да не използва СУБД, особено ако не се изискват допълнителните предимства на СУБД (напр. гъвкави заявки, сигурност, едновременен достъп и възстановяване при срив). В повечето ситуации, изискващи широкомащабно управление на данни обаче, СУБД се превърнаха в незаменим инструмент.

## Описване  и съхранение на данни в СУБД

Потребителят на СУБД в крайна сметка се занимава с някакво предприятие от реалния свят и данните, които трябва да се съхраняват, описват различни аспекти на това предприятие. Например, има студенти, преподаватели и курсове в университет и данните в университетска база данни описват тези обекти и техните взаимоотношения.

Модел на данни е колекция от конструкции за описание на данни на високо ниво, които крият много детайли за съхранение на ниско ниво. СУБД позволява на потребителя да дефинира данните, които да се съхраняват по отношение на модел на данни. Повечето системи за управление на бази данни днес са базирани на релационния модел на данни.

Въпреки че моделът на данни на СУБД крие много детайли, той все пак е по-близо до това как СУБД съхранява данни, отколкото до това как потребителят мисли за основното предприятие. Семантичният модел на данни е по-абстрактен модел на данни от високо ниво, който улеснява потребителя да излезе с добро първоначално описание на данните в предприятието. Тези модели съдържат голямо разнообразие от конструкции, които помагат да се опише реален сценарий на приложение. СУБД не е предназначена да поддържа директно всички тези конструкции; обикновено се изгражда около модел на данни само с няколко основни конструкции, като релационния модел. Дизайнът на база данни по отношение на семантичен модел служи като полезна отправна точка и впоследствие се превежда в дизайн на база данни по отношение на модела на данни, който СУБД действително поддържа.

## Релационният модел

Описание на данни от гледна точка на модел на данни се нарича схема. В релационния модел схемата за релация определя нейното име, името на всяко поле (или атрибут или колона) и типа на всяко поле. Като пример, информацията за студентите в университетска база данни може да се съхранява във връзка със следната схема:

Students( sid: string, name: string, login: string,
age: integer, gpa: real)

| sid   | name  | login       | age | gpa |
| ----- | ----- | ----------- | --- | --- |
| 53666 | Jones | jones@cs    | 18  | 3.4 |
| 53688 | Smith | smith@ee    | 18  | 3.2 |
| 53650 | Smith | smith@math  | 19  | 3.8 |
| 53832 | Guldu | guldu@music | 12  | 2.0 |

Всеки ред в релацията Students е запис, който описва студент. Описанието не е пълно (например височината на студента не е включена), но се предполага, че е адекватно за предвидените приложения в базата данни на университета. Всеки ред следва схемата на релацията Students. Следователно извикването на схемата трябва да се разглежда като шаблон за описание на студент.

Можем да направим описанието на колекция от ученици по-прецизно, като посочим ограничения за интегритет, които са условия, на които трябва да отговарят записите в релация. Например, можем да посочим, че всеки студент има уникална стойност на sid. Обърнете внимание, че не можем да уловим тази информация, като просто добавим друго поле към схемата Students. По този начин възможността да се посочи уникалността на стойностите в дадено поле увеличава точността, с която можем да опишем нашите данни. Изразителността на наличните конструкции за определяне на ограничения за интегритет е важен аспект на модела на данни.
